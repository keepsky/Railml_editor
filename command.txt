
=============
track의 이동으로 변경된 좌표에 대해서 아래의 2가지 경우에 해당하면 각각의 경우에 대해서 가이드하는 방법에 따라 railml 태그를 생성한다.
(1) 2개의 trackEnd와 1개의 trackBegin이 같은 좌표값을 가지는 경우
팝업메뉴를 통해서 2개의 trackEnd가 속한 track의 id를 나열하고 principle track을 하나를 선택 한다. (선택이 안되면 이전 상태로)
principle track(A), diverging track(B), entering track(C) 라고 하면
track(A)의 <trackEnd><connection>과 track(C)의 <trackBegin><connection>이 서로 id, ref로 연결되고
track(B)의 <trackEnd><connection>과 track(C)의 <connections><switch><connection>이 서로 id, ref로 연결된다. 
track(C)의 <connections><switch><connection>의 orientation 속성은 "incoming" 값을 가진다
(2) 1개의 trackEnd와 2개의 trackBegin이 만나는 경우
팝업메뉴를 통해서 2개의 trackBegin이 속한 track의 id를 나열하고 principle track을 하나를 선택 한다. (선택이 안되면 이전 상태로)
principle track(A), diverging track(B), entering track(C) 라고 하면
track(A)의 <trackBegin><connection>과 track(C)의 <trackEnd><connection>이 서로 id, ref로 연결되고
track(B)의 <trackbegin><connection>과 track(A)의 <connections><switch><connection>이 서로 id, ref로 연결된다. 
track(A)의 <connections><switch><connection>의 orientation 속성은 "outgoing" 값을 가진다
=============
point의 좌표에 대해서 logical, visual로 분리해서 수현한것 같은데 아래와 같이 수정해줘
(1) 이전과 같이 logical, visual 구분 없이 하나의 x, y 좌표만 사용
(2) point 생성시는 기존 로직대로 좌표값 생성하여 표시
(3) 사용자가 마우스로 point 좌표를 변경하는 경우 변경된 좌표를 x,y에 저장
(4) railml로 저장할때 현재의 x, y 좌표 정보를 objectVis 태그의 position 속성에 저장
(5) railml에서 읽어올때 objectVis 태그의 position 속성에서 x,y 좌표 사용

=============
선로전환기(point)의 좌표를 변경했을때 infrastructureVisualizations->visualization->objectVis 태그를 이용해서 아래와 같이 좌표 정보를 저장하고 railml을 로드할때 해당 좌표로 표시되도록 수정해줘
objectVis 태그에 ref 속성으로 point의 id를 저장하고
objectVis 하위에 position 태그를 만들고 x,y 속성에 좌표값을 저장
=============
railml 파일을 로드했을때 아래 두가지 문제 수정해줘
(1) point(switch)의 위치를 변경해서 저장했는데 변경된 좌표로 표시되지 않음
(2) 사선 track에 있는 border가 track 각도 맞게 사선으로 표시되지 않음
=============
railml 파일을 로드할때 trackEnd 또는 trackBegin에 connection 태그가 존재하는데 탐색창이나 속성창에서 type 값이 connection이 아니라 none으로 표시되는 문제 수정해줘
=============
edge를 그릴때 해당 노드가 속한 track의 mainDir 속성을 참고해서 아래와 같이 수정해줘
해당 노드가 속한 track의 속성이 mainDir=up인경우 trackBegin에서 trackEnd방향 순서로 edge에 화살표를 표시하고 mainDir=down인경우 trackEnd에서 trackBegin방향 순서로 edge에 화살표를 표시하고 mainDir=none인 경우 화살표를 표시하지 않는다.
=============
trackEnd와 trackBegin 하위에 connection 태그로 두개의 track이 연결되는 경우 아래 규칙에서 설명하는 각각의 track에서 추출한 node 두 개를 연결하는 edge를 그리도록 수정해줘
(1) trackBegin에 connection이 있는 track은 trackBegin 내의 pos 속성값 기준으로 가장 가까운 pos 값을 가지는 node
(2) trackEnd에 connection이 있는 track은 trackEnd 내의 pos 속성값 기준으로 가장 가까운 pos 값을 가지는 node
=============
view 메뉴 하위에 graph 메뉴를 선택하면 별도의 graph canvas를 만들고 현재 railml 데이터를 기반으로 graph를 그려주는 기능이고 graph의 node와 edge를 처리하는 다음의 로직을 통해서 graph 기능 구현해줘
(1) node가 되는 railml 요소는 아래의 경우가 있음
(1-1) openEnd 또는 bufferEnd를 가지고 있는 trackBegin 이나 trackEnd
(1-2) switch, trackCircuitBorder, signal
(1-3) trackBegin에서 trackEnd까지 pos 값 기준으로 가까운 순서로 (1-1), (1-2)에서 정의한 node들을 edge로 연결한다.
(1-4) edge는 방향을 가지는데 track의 mainDir 속성값에 따라서 mainDir=up인경우 trackBegin에서 trackEnd방향 순서로 화살표를 표시하고 mainDir=down인경우 trackEnd에서 trackBegin방향 순서로 화살표를 표시하고 mainDir=none인 경우 화살표를 표시하지 않는다.
(2) 위의 (1)에서 trackBegin 또는 trackEnd 하위에 connection 태그의 ref 속성이 지시하는 track에 대해서도 위의 (1)의 과정을 거쳐서 graph을 그린다.
(3) 해당 track의 하위에 connections 태그가 있는 경우 connections ->switch 또는 connections ->crossing 태그 하위에 connection 태그들의 ref 속성이 지시하는 모든 track에 대해서도 위의 (1)의 과정을 거쳐서 graph을 그린다. 이때 switch, crossing의 위치는 trackBegin이 되도록 한다.

=============
메뉴바의 view 메뉴 하위에 graph 메뉴를 추가해줘
=============
탐색창에 표시하는 요소 그룹의 표시 순서를 Route, Area, Track, Signal, Point 순으로 표시해주고 railml에 저장할때 <infrastructure> 하위에 <routes>, <areas>, <tracks> 순서로 저장하도록 수정해줘
=============
area 요소가 생성되었는데 속성창에 area 하위 속성 정보가 표시되지 않고 있습니다. 아래의 속성정보가 표시되도록 수정해줘
(1) id
(2) name
(3) type
(4) description
(5) 선택된 border들의 id를 한줄씩 표시
======================
좌측 탐색창에 infrastructure 하위에 Area 그룹을 추가하고 하위의 area 요소는 id, name, type, description 속성을 가지고 id는 ar1, ar2, ar3 형태로 자동할당하고, type은 (trackSection, project)에서 선택하도록 하고, name, description은 사용자가 입력할수 있도록 하고 area 요소 하위에 다중 선택한 border들의 id, name이 한줄씩 표시되도록 구현하고 area 요소가 생성되는 절차는 아래와 같이 구현해줘
area 요소 생성 절차 : border 여러개를 shift+마우스 왼쪽 버튼 클릭으로 다중 선택해서 마우스 오른쪽 클릭했을때 "Area 생성" 팝업 메뉴를 표시하고 해당 옵션을 선택했을때 좌측 탐색창에 Area 그룹 하위에 area 요소를 생성하도록 구현해줘
area 요소들이 railml로 저장할때는 아래의 방법에 따르도록 구현해줘
(1) infrastructure -> sehwa:areas -> sehwa:area 태그를 추가하고 <sehwa:area> 내에 id, name, description, type를 추가
(2) sehwa:area -> sehwa:isLimitedBy 태그를 추가하고 ref 속성에는 area 요소 하위의 border id를 값으로 저장해서 sehwa:isLimitedBy 태그가 area 요소 하위의 border 개수만큼 만들어줘
======================
border 이미지를 track 요소와 바인딩 시키는 로직을 아래와 같이 수정해줘
(1) 수평한 track 요소(trackBegin 과 trackEnd의 y 좌표값이 동일)의 경우 현재의 바인딩 로직과 동일
(2) 대각선 track 요소(trackBegin 과 trackEnd의 y 좌표값이 다름)의 경우 trackBegin과 trackEnd 사의 선상에 border 이미지가 위치하면 border 이미지도 track의 각도 만큼 회전해서 보여주고 바인딩 될수 있도록 수정해줘
그리고 border를 다시 선택해서 이동을 시키다가 변경된 좌표가 해당 track과의 바인딩 좌표와 달라지면 바인딩을 해제하도록 수정해줘 (border 요소의 속성인 Track Ref의 값을 제거)
======================
툴바의 border 버튼을 클릭하면 border 이미지가 마우스에 붙어서 이동하고 마우스 왼쪽 버튼 클릭으로 track 위에 위치하는 방식으로 구현되어 있습니다.
하지만 이미 track 위에 있는 border 이미지를 선택하면 다른 요소들과 같이 단지 요소를 선택하고 속성창을 표시하도록만 기능하고 마우스에 붙어서 이동하지 않도록 수정해줘
======================
File > preferencces 메뉴를 만들고 하위에 Settings, Templates 메뉴를 만들고 Template을 선택하면 아래의 기능을 구현해줘
Templates 윈도우를 생성하고 툴바에 있는 corner, single, singleR, double, doubleR, cross에 대해서 탭 메뉴를 만들고 사용자가 railml을 직접 입력해서 툴바의 해당 버튼을 누르면 입력한 railml 내용으로 표시되도록 구현해줘
======================
begin, end의 type 속성중에 connection은 기본적으로 hidden으로 처리해서 사용자가 선택할수 없도록 수정하고 type의 값이 connection이 되는 경우는 아래의 방법에 따라서 수정해줘
track 요소를 이동하다가 위치된 좌표에서 다른 track과 연결되는 경우 각 track의 연결 부분(trackBegin, trackEnd)의 속성인 type은 connection으로 자동 변경되고 begin, end 각각의 속성창에는 connection 정보(id, ref)를 표시하도록 수정해줘 (id, ref 속성은 변경 불가)
다시 track 요소를 이동하다가 위치된 좌표에서 다른 track과 연결이 해제되는 경우  각 track의 연결 부분(trackBegin, trackEnd)의 속성인 type은 none으로 자동 변경되고 begin, end 각각의 속성창에는 connection 정보(id, ref)를 표시하지 않고 원래의 begin, end 속성들을 표시하도록 수정해줘
======================
trackBegin과 trackEnd의 id로 type에 따라서 openEnd인 경우 oe001, oe002, bufferStop인 경우 bs001, bs002로 자동할당하는 방식을 취소하고 기존 track에 id를 명명하던 방식대로 [track id + "_" + begin 또는 end]와 같이 수정하고 trackBegin, trackEnd의 속성중에 type은 openEnd, bufferStop, connection 중에 하나의 값을 가질수 있도록 수정해줘 그리고 탐색창에서 track 하위 요소들의 타이틀 부분은 아래와 같이 수정해줘
(1) Begin : "Begin"+"(" + type + ") - "+ id
(2) End : "End"+"(" + type + ") - "+ id
(3) signal : id + "(" + type + ") - "+ name
(4) border : id + "-"+ name
======================
좌측 탐색창의 track 하위 요소인 border 처럼 해당 track의 하위 태그인 trackBegin, trackEnd, signal도 하위 요소로 표시하고 선택하면 속성창에 관련 속성을 표시하고 변경할수 있게 수정해주고 signal의 경우는 현재 구현처럼 Signal 하위 메뉴에도 동일하게 유지 해줘
======================
openEnd와 bufferStop의 id 명명 규칙을 아래 (1)과 같이 적용
(1) openEnd 는 oe, bufferStop은 bs를 prefix로하고 뒤의 숫자는 연관된 track의 숫자를 그대로 사용하도록 수정
그리고 속성창에서 Begin, End type을 선택하면 즉시 id 값이 변경되도록 수정해줘
======================
<trackBegin>와 <trackEnd>의 하위에 <bufferStop>, <openEnd> 태그를 아래와 같이 추가
(1) track에 대해서 좌측 속성창에 begin, end 속성을 각각 추가하고 bufferStop, openEnd 중에 하나를 선택할수 있도록 추가
(2) 해당 track의 trackBegin하위에 connection 태그가 있다면 해당 속성은 disable 처리하고 connection 태그가 없다면 trackBegin 하위에 (1)에서 선택한 bufferStop 또는 openEnd 태그를 만들고 (4)에서 지시하는 방식으로 속성을 추가
(3) 해당 track의 trackEnd하위에 connection 태그가 있다면 해당 속성은 disable 처리하고 connection 태그가 없다면 trackEnd 하위에 (1)에서 선택한 bufferStop 또는 openEnd 태그를 만들고 (4)에서 지시하는 방식으로 속성을 추가
(4) begin, end 속성 필드 아래에 id, code, name, description 을 추가하고 id는 bufferStop인 경우 bs1, bs2, bs3 형식으로 자동 생성하고, openEnd인 경우 oe1, oe2, oe3 형식으로 자동 생성하고, code, name, description은 default는 비어 있고 사용자가 입력할수 있도록 수정
======================
툴바의 border 버튼으로 생성되는 border 아이콘의 이미지에 "border" 라는 텍스트가 있는데 삭제해줘
border 아이콘을 이동하다가 마우스 왼쪽 버튼 클릭으로 track 위에 위치 시켰다가 다시 마우스 윈쪽 버튼으로 선택하면 이미지가 마우스 이동에 따라 다시 이동할수 있도록 수정해줘
border 이미지를 track 위에 위치시켜도 탐색창에서 바인딩된 track 하위에 정보가 보이지 않는 문제 수정해줘
======================
툴바의 border 메뉴를 누르면 border.svg 이미지를 이용해서 아래와 같은 기능을 구현
(1) border 아이콘의 크기는 높이를 10px로 track의 높이와 동일하게 구현
(2) 툴바의 border 메뉴를 선택하면 마우스에 border 아이콘이 붙어 있는 상태로 이동하다가 임의의 track위에(y 좌표가 동일) 마우스 왼쪽 버튼을 클릭하면 해당 track에 아래와 같이 바인딩 수행
  (2-1) 좌측 탐색창에 바인딩된 track의 하위 요소로 해당 border 정보를 추가 (id, name)
  (2-2) 해당 track에 track -> ocsElements -> trainDetectionElements -> trackCircuitBorder 태그를 추가하고 <trackCircuitBorder> 내에 속성으로 pos, id, name, code, description을 아래의 내용으로 추가
  (2-3) pos는 trackbegin과 trackEnd 사이 상대적인 위치의 값이고 실제 좌표 위치는 trackElementVis->position 태그의 x,y 속성으로 저장하고, id는 td001, td002 형식의 자동 부여되는 값이고, name, code, description은 사용자가 입력할수 있는 값으로 구현
======================
현재 <sehwa:screenPos> 태그를 이용하여 좌표 정보를 저장하는 태그를 아래와 같이 변경하여 <infrastructure> 태그 내에는 sehwa:screenPos를 모두 제거하고 <infrastructureVisualizations> 태그에 필요한 정보를 저장
(1) railml -> infrastructureVisualizations -> visualization -> lineVis -> trackVis -> trackElementVis -> position 태그에 x, y 속성으로 저장
(2) infrastructureVisualizations은 속성 없음
(3) visualization 태그에 id, infrastructureRef 속성을 추가하고, id는 vis1, vis2 형식의 자동 부여되는 값이고 infrastructureRef는 현재 연결된 infrastructure의 id를 링크 (예 <visualization id="vis1" infrastructureRef="inf1">)
(4) lineVis은 현재 별도 정의되는 속성 없음
(5) trackVis 태그는 ref 속성을 추가하고, ref는 추가하려는 x,y 좌표가 속한 track의 id와 링크 (예 <trackVis ref="T001">)
(6) trackElementVis 태그는 ref 속성을 추가하고, ref는 추가하려는 x,y 좌표가 속한 track의 하위 요소(trackBegin, trackEnd, switch, signal)의 id와 링크 (예 <trackElementVis ref="T003_begin">)
======================
현재 infrastructure 태그에 id, name 속성을 추가하고 id는 inf1, inf2, inf3 형식의 자동 부여되는 값이고, name은 사용자가 입력할수 있는 값으로 구현
좌측 탐색 윈도우에 infrastructure가 최상위 요소로 오도록 수정하고 infrastructure 하위에 track, signal, point, route가 배치 되도록 수정
======================
svg/border.svg 파일을 이용해서 툴바에 border 메뉴를 추가
======================
속성창에 표시하는 요소별 속성정보를 아래와 같이 수정해줘
(1) plain track
   - Begin x,y외에 End x,y도 표시하고 좌표정보 속성들은 hide/show 토글 기능을 통해서 기본적으로 숨길수 있도록하고 show인 경우만 보이도록 수정
(2) corner track
   - 좌표정보 속성들은 hide/show 토글 기능을 통해서 기본적으로 숨길수 있도록하고 show인 경우만 보이도록 수정
(3) signal
   - track과 같이 좌표정보 속성들 하단으로 분리하고 hide/show 토글 기능을 통해서 기본적으로 숨길수 있도록하고 show인 경우만 보이도록 수정
(4) point
   - track과 같이 좌표정보 속성들 하단으로 분리하고 hide/show 토글 기능을 통해서 기본적으로 숨길수 있도록하고 show인 경우만 보이도록 수정
======================
code=corner인 track에서 track name을 표시하는 부분은 trackBegin~cornerPos 과 cornerPos~trackEnd 구간중에 길이가 긴 구간에 표시하도록 수정해줘
======================
<route>에 아래 태그를 추가하고 railml에서 <route><releaseGroup><trackSectionRef>의 하위 태그로 사용자가 입력한 list를 추가되도록 구현
Release Section : list 형태로 여러줄에 걸쳐서 입력 받을수 있도록 (+) 버튼을 누르면 아래의 속성들을 입력할수 있도록 구현
	ref : track.id
	flankProtection : (true, false) list에서 선택
======================
좌측 탐색창에 route를 추가
툴바에서 route 버튼을 누르면 탐색창에 신규 route를 추가하고 해당 route id를 선택하면 속성창에서 아래의 값들을 입력할수 있도록 수정해줘
아래 (1)~(11)은 railml에서 <infrastructure><routes><route>의 속성으로 추가되고
아래 (12), (13)은 railml에서 <infrastructure><routes><route>의 하위 태그로 사용자가 입력한 list를 추가되도록 구현
(1) id : 자동 생성 (R001, R002, ...)
(2) name (string) : 사용자 입력
(3) code (string) : 사용자 입력
(4) description (string) : 사용자 입력
(5) approachPointRef : track.id
(6) entryRef : signal.id
(7) exitRef : signal.id
(8) overlapEndRef : track.id
(9) proceedSpeed : R,YY,Y,YG,G list에서 선택 (entryRef의 signal type에 따라 달라짐)
(10) releaseTriggerHead (boolean) : true, false
(11) releaseTriggerRef : Reference to the trigger point for the overlap release timer
(12) <switchAndPosition> : list 형태로 여러줄에 걸쳐서 입력 받을수 있도록 (+) 버튼을 누르면 아래의 속성들을 입력할수 있도록 구현
	switchRef : switch.id
	switchPosition : (normal, reverse) list에서 선택
(13) <overlapSwitchAndPosition> : list 형태로 여러줄에 걸쳐서 입력 받을수 있도록 (+) 버튼을 누르면 아래의 속성들을 입력할수 있도록 구현
	switchRef : switch.id
	switchPosition : (normal, reverse) list에서 선택
======================
현재 switch(point)가 생성되는 아래 (1), (2) 두 경우에 대해서 각각에 대해서 조건을 확인하고 수정해줘
(1) 하나의 <trackEnd>와 두개 이상의 <trackBegin> 좌표가 겹치는 경우
(1-a) switch 좌표 밑에 "principle track 선택" 제목의 팝업 메뉴를 띄우고 <trackBegin>이 속한 track 들의 id(name) 형태로 모두 보여주고 사용자가 마우스로 선택 
(1-b) 미선택시 마지막 track 이동은 취소하여 원위치로 복귀
(1-c) 하나의 <trackEnd>가 속한 track을 entering track으로 정의하고, 1-a에서 사용자가 선택한 track이 principle track이 되고 나머지들는 diverging track으로 정의
(1-d) entering track의 <trackEnd>와 principle track의 <trackBegin>은 각각 하위에 <connection>태그로 연결
(1-e) principle track 하위에 <connections><switch> 태그를 추가하고 switch의 pos 속성값은 0으로 설정(trackBegin 의미), switch의 trackContinueCourse 속성과 normalPosition 속성은 속성윈도우에서 (straight, left, right, other) 중에 하나를 선택할수 있게 수정(기본 값은 straight) 
(1-f) <switch> 하위의 <connection> 태그에는 diverging track들에 대해서 ref속성값을 추가하고 orientation 속성값은 "outgoing"으로 설정하고, course 속성은 속성 윈도우에서 (straight, left, right) 중에 하나를 선택할수 있게 수정

(2) 하나의 <trackBegin>과 두개 이상의 <trackEnd> 좌표가 겹치는 경우
(2-a) switch 좌표 밑에 "principle track 선택" 제목의 팝업 메뉴를 띄우고 <trackEnd>가 속한 track 들의 id(name) 형태로 모두 보여주고 사용자가 마우스 선택
(2-b) 미선택시 마지막 track 이동은 취소하여 원위치로 복귀
(2-c) 하나의 <trackBegin>이 속한 track을 entering track으로 정의하고 2-a에서 사용자가 선택한 track이 principle track이 되고 나머지들는 diverging track으로 정의
(2-d) entering track의 <trackBegin>과 principle track의 <trackEnd>은 각각 하위에 <connection>태그로 연결
(2-e) entering track 하위에 <connections><switch> 태그를 추가하고, switch의 pos 속성값은 0으로 설정(trackBegin 의미), switch의 trackContinueCourse 속성과 normalPosition 속성은 속성윈도우에서 (straight, left, right, other) 중에 하나를 선택할수 있게 수정(기본 값은 straight)
(2-f) <switch> 하위의 <connection> 태그에는 diverging track들에 대해서 ref속성값을 추가하고 orientation 속성값은 "incoming"으로 설정하고, course 속성은 속성 윈도우에서 (straight, left, right) 중에 하나를 선택할수 있게 수정
======================
track에 hasSwitch라는 boolean 속성을 추가하고 선택할수 있도록 추가하고 hasSwitch가 enable 인경우 해당 track에 trackContinueCourse라는 속성을 표시하고 아래의 값들에서 선택할수 있도록 추가해줘
straight, 
left, 
right, 
other
사용자가 track의 좌표를 이동함에 따라서 track이 switch를 가질수 없는 조건이 되면 hasSwitch는 자동으로 diable 값으로 변경되도록 반영해줘
======================
signal, track에 대해서 마우스 선택하여 복사, 붙여넣기 기능을 추가하고
여러개의 요소를 다중 선택하는 경우 공통 속성을 일괄 편집할수 있도록 수정해줘
여러개의 요소를 다중 선택해서 del키를 누르면 해당 요소들을 삭제하는 기능도 추가해줘
======================
track을 마우스 우클릭해서 메뉴를 표시하고 좌우반전, 상하반전 메뉴를 만들어줘
상하반전는 code=corner 인 track만 메뉴를 보여주고 각 점의 좌표가 상하 대칭 반전 되도록 변경해주고
좌우반전은 모든 code에 대해서 메뉴를 보여주고 각 점의 좌표가 좌우 대칭 반전 되도록 변경하는 코드를 적용해줘
======================
현재 curved track이라고 정의해서 id를 PT001, PT002 형식으로 정의한 track을 일반적인 track과 동일하게  T001, T002로 id를 만들고 track의 code 속성에 "corner"라고 정의하고, trackBegin 하위에 sehwa:screenpos 태그에서 mx, my 속성은 tracktopology 하위에 sehwa:cornerPos 태그를 만들고 x, y로 변경하도록 수정해줘
그리고 그외 일반적인 track의 경우 code 속성값은 "plain"으로 정의하도록 수정해줘
======================
trackEnd에 switch가 있고 다른 2개의 trackBegin이 연결되는 경우 아래와 같은 railml 코드가 생성되어야 합니다. switch 태그에는 ref 속성이 없기 때문에 switch 하위에 connection 태그의 ref 속성을 이용합니다. 아래 예제는 1번 트랙에서 2,3번 트랙으로 switch를 통해서 분기되는 경우를 나타낸것입니다.
<trackEnd id="te_1" pos="100">
            <connections>
              <switch id="sw_01">
                <connection id="conn_1_to_2" ref="tb_2"/>
                <connection id="conn_1_to_3" ref="tb_3"/>
              </switch>
            </connections>
          </trackEnd>
======================
switch가 아닌 일반 track 두개가 연결될때 현재 구현은 tracktopology->connections->connection 태그를 사용하고 있는데, 이것을 수정해서 연결되는 지점의 trackbegin 또는 trackend 태그 하위에 connection 태그가 위치하도록 수정해줘
======================
trackbegin, trackend에 있는 X, Y 속성 대신에 하위에 sehwa:screenPos 태그를 만들고 x, y 속성에 좌표를 저장하도록 수정해줘
======================
ptag의 좌표는 기본적으로 현재의 기본값으로 사용하고 이미지를 마우스로 선택해서 위치를 이동할수 있도록 수정하고 만약 위치가 변경되는 경우 바뀐 좌표는 sehwa:screenpos mx, my에 좌표를 저장하고, 이동한 좌표 mx, my가 pos x,y와 동일하면 sehwa:scrrenpos 태그는 다시 제거 하도록 수정해줘
======================
현재 connections 태그를 trackend 속성 하위에 속해 있는데 tracktopology 하위에 속하도록 수정하고 connections->switch 태그에는 pos 속성을 이용해서 switch(point)의 상대 위치를 저장하도록 수정해줘
======================
신호기에 대해서 name을 아래 규칙으로 표시하도록 수정해줘
signal direction=up인 경우 이미지 좌측에 이미지 높이와 중앙 정렬되도록 표시하고
signal direction=down인 경우 이미지 우측에 이미지 높이와 중앙 정렬되도록 표시하고
name 표시할때 폰크 크기는 10px 정도로 설정
======================
point가 만들어지면 아래의 내용을 수행하는 기능 추가
image 폴더의 ptag.svg 이미지를 이용해서 point의 좌표 밑에 표시하고 (Y축 +5px )
ptag.svg 이미지의 우측 라운드 박스에 point name을 표시
======================
ctrl + 마우스 휠 up/down으로 전체 요소를 확대하거나 축소하는 기능을 추가해줘
======================
track에 아래 3개 속성 추가하고 속성창에서 수정할수 있도록 수정해줘
description : string 타입으로 사용자가 내용 입력
type : list box로 mainTrack, secondaryTrack, connectingTrack, sidingTrack, stationTrack 을 선택
mainDir : list box로 up, down, none 선택
그리고 signal에 아래 속성 추가하고 속성창에서 수정할수 있도록 수정해줘
type : list box로 main, distant, repeater, shunting 을 선택
function : list box로 exit, home, blocking 을 선택
======================
signal direction=down인 경우 signal의 좌표 기준은 우측 끝지점으로 수정하여 반영
signal을 track에 위 또는 아래에 표시될때 현재보다 2px 정도 간격을 두도록 수정
======================

signal 속성의 direction은 up, down을 선택하는 리스트박스 형태로 수정
현재 signal 아이콘을 마우스로 드래그 하면 자동으로 좌우 반전이 되는 기능 삭제하고 선택된 direction에 따라서만 signal 이미지가 좌우 반전이 되도록 수정
direction=up인 경우 signal.svg 이미지 그대로 사용해서 좌표값이 trackBegin 지점 근처에 있으면 signal이 trackBegin 위쪽에 위치시켜서 해당 track과 바인딩 되도록 수정
direction=down인 경우 signal.svg 좌우 반전 형태로 사용해서 좌표값이 trackEnd 지점 근처에 있으면 signal이 trackEnd 아래쪽에 위치시켜서 해당 track과 바인딩 되도록 수정 

======================
toolbar의 curved track 버튼의 이미지를 image 폴더의 point.svg 이미지로 변경
toolbar에 있는 선로전환기 아이콘은 삭제하고
track을 겹쳐서 생성된 switch를 선로전환기로 정의하고 좌측 요소 tree에 switch를 추가하고 switch를 선택하면 좌측 속성영역에 switch의 속성들을 표시하도록 수정해줘
switch의 경우 id는 현재대로 자동으로 생성하고 name 속성을 switch -> additionalName -> name에 추가하여 입력할수 있도록 수정
======================
signal 속성에 dir 속성을 추가하고 up, down으로 설정할수 있도록 수정해줘
up인경우(default) signal.svg 이미지 그대로 사용해서 track의 위쪽에 위치하도록 수정하고
down인경우 signal.svg 이미지 좌우 반전 형태로 사용해서 track의 아래쪽에 위치하도록 수정해줘

======================
signal을 추가했는데 관련 속성이 railml에 추가되지 않고 있는데 아래 속성을 railml에 추가되도록 수정해줘
track -> ocsElements -> signals -> signal -> id 속성을 추가
track -> ocsElements -> signals -> signal -> additionalName -> name 속성을 추가

======================

svg 폴더에 있는 signal.svg 파일을 이용해서 toolbar의 signal 버튼을 변경하고, 버튼을 누르면 signal을 추가할수 있도록 수정해줘
signal을 마우스로 이동하다가 trackBegin의 위쪽 5px 지점에 위치하면 signal이 track 위 해당 지점에 위치하도록 수정하고
signal을 마우스로 이동하다가 trackBegin의 아래쪽 5px 지점에 위치하면 signal 이미지를 좌우 반전 형태로 변경해서 signal이 track 아래 해당 지점에 위치하도록 수정
======================

railml 2.5에 따르면 signal은 track에 종속되어 track -> ocsElements -> signals -> signal 형태로 구성되어야 한다.
따라서 signal을 마우스로 드래그 하다가 trackBegin 지점에 위치하면 자동으로 바인딩되도록 수정하고 해당 track의 ocsElements 태그 하위에 signal 태그를 추가하도록 수정해줘 
======================

좌측 속성영역을 아래와 같이 수정해줘
1. 테이블 형태로 변경하고 속성, 값 형태로 구성하도록 수정
2. 좌측 상단에 별도 창을 만들고 현재 생성된 모든 요소를 tree 형태로 구성
   a. tree 상위 구조는 track, signal, point로 구성
   b. 각 상위 item을 선택하면 해당 item에 속한 요소들을 나열하고 선택할수 있도록 표시되도록 수정
3. track의 경우 id는 현재대로 자동으로 생성하고 name 속성을 직접 수정할수 있도록 수정
4. signal의 경우 id는 현재대로 자동으로 생성하고 name 속성을 추가하여 입력할수 있도록 수정
5. point의 경우 id는 현재대로 자동으로 생성하고 name 속성을 추가하여 입력할수 있도록 수정
======================

새로운 toolbar UI 요소를 정의 하려고 합니다. track의 종류인데 track.svg 두개가 이어진 형태이고 마우스로 선택해서 이동할수 있는 지점이 3개가 있어서 각 앵커 포인트는 Begin, Mid, End로 정의하고 mid 좌표는 trackBegin 태그 안에 <sehwa:screenPos mx="170" my="260" /> 형태로 추가한다. 하지만 논리적으로 railml로 표현할때는 track과 동일하다.

======================
TCB(track circuit border) UI 요소를 10px의 검은 점으로 toolbar에 추가하고 해당 요소를 선택해서 마우스로 track 위에 위치시키면 아래의 railml 구문에 따라서 trainDetectionElements 태그에 trackCircuitBorder 태그를 추가하고 tvdSections 태그 하위에 tvdSection 을 아래 예제와 같이 추가하도록 수정해줘
      <track id="track_1" length="1000">
        <trackTopology>...</trackTopology>
        <trainDetectionElements>
          <trackCircuitBorder id="tcb_start" pos="100" dir="up" />
          <trackCircuitBorder id="tcb_end" pos="500" dir="down" />
        </trainDetectionElements>
      </track>
    <tvdSections>
      <tvdSection id="tvd_1T" name="1T">
        <border ref="tcb_start" />
        <border ref="tcb_end" />
      </tvdSection>
    </tvdSections>

그리고 switch를 포함하는 track의 경우 3개의 track에 TCB(track circuit border)를 위치시키면 아래의 railml 구문과 같이 선로전환기(switch)를 공유하는 3개의 track이 하나의 tvdSection이 되도록 수정해줘 
    <tracks>
      <track id="track_A" length="100">
        <trackTopology>
           <trackEnd id="tA_end" pos="100"><connections><switch id="sw1" ... /></connections></trackEnd>
        </trackTopology>
        <trainDetectionElements>
           <trackCircuitBorder id="border_1" pos="80" />
        </trainDetectionElements>
      </track>

      <track id="track_B" length="200">
        <trackTopology>...</trackTopology>
        <trainDetectionElements>
           <trackCircuitBorder id="border_2" pos="50" />
        </trainDetectionElements>
      </track>

      <track id="track_C" length="200">
        <trackTopology>...</trackTopology>
        <trainDetectionElements>
           <trackCircuitBorder id="border_3" pos="50" />
        </trainDetectionElements>
      </track>
    </tracks>
    <tvdSections>
      <tvdSection id="tvd_Switch_21T" name="21T">
        <border ref="border_1" /> <border ref="border_2" /> <border ref="border_3" /> </tvdSection>
    </tvdSections>
=================================
하나의 trackEnd에 다른 trackBegin이 2개 이상 연결되는 경우 아래의 switch 태그로 표현하도록 수정해줘
<trackEnd id="t1_e" pos="100">
    <connections>
       <switch id="sw1" ref="t2_b">
           <connection id="conn_sw1_div" ref="t3_b" orientation="outgoing" course="right" />
       </switch>
   </connections>
</trackEnd>

          <trackBegin id="t2_b" pos="0">
            <connections>
              <connection id="conn_t2_t1" ref="t1_e" />
            </connections>
          </trackBegin>
          <trackBegin id="t3_b" pos="0">
            <connections>
              <connection id="conn_t3_t1" ref="t1_e" />
            </connections>
          </trackBegin>

===============================

궤도회로의 시작은 <trackBegin>으로 표현하고, 궤도회로의 끝은 <trackEnd>로 표현하도록 수정하고 궤도회로 요소의 시작, 끝 점을 마우스로 선택하여 드래그 하면 좌표가 변경되도록 수정해줘
그리고 실제 궤도회로 시작, 끝의 좌표는 아래와 같이 any 태그를 이용해서 x, y 좌표를 저장하도록 수정해줘
<any><sehwa:screenPos x="100" y="300" xmlns:sehwa="..." /></any>


<trackBegin>, <trackEnd>는 pos 속성을 이용해서 표시할 x 좌표를 저장하는데 y 좌표의 경우 어떻게 표시하지?

캔버스에 표시되는 모든 요소는 마우스 드래그하여 이동되는 단위를 10px로 변경
모든 요소를 선택하여 delete 키를 누르면 요소를 삭제
마우스로 영역을 드래그 하여 다중 요소 선택이 가능하고 이동, 삭제 가능하도록 수정
마우스 휠 클릭, 드래그 이용하여 전제 요소의 좌표를 이동할수 있도록 수정